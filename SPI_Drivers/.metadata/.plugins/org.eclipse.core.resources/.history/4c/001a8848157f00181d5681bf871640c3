/*
 * hal_spi_driver.h
 *
 *  Created on: Jul 3, 2018
 *      Author: huzaifaasif
 */

#ifndef STM32F4XX_HAL_DRIVER_INC_HAL_SPI_DRIVER_H_
#define STM32F4XX_HAL_DRIVER_INC_HAL_SPI_DRIVER_H_

#include "stm32f401xe.h"

/******************************************************************************/
/*                                                                            */
/*                        1. Serial Peripheral Interface                         */
/*                           Register Bit Definitions                          */
/******************************************************************************/

/*******************  Bit definition for SPI_CR1 register  ********************/

//Bidirectional data mode enable
#define SPI_CR1_BIDIMODE 								(uint32_t) 1 << 15
#define SPI_ENABLE_2_LINE_UNI_DIR        				0
#define SPI_ENABLE_1_LINE_BIDI           				1

//Data frame format
#define SPI_CR1_DFF										(uint32_t) 1 << 11
#define SPI_8_BIT_DFF_ENABLE								0
#define SPI_16_BIT_DFF_ENABLE							1

//Software slave management
#define SPI_CR1_SSM										(uint32_t) 1 << 9
#define SPI_CR1_SSM_DISABLE								0
#define SPI_CR1_SSM_ENABLE								1

// Internal slave select
#define SPI_CR1_SSI 									   (uint32_t) 1 << 8

// LSBFIRST -- Frame Format		????
#define SPI_CR1_LSB_FIRST							   (uint32_t) 1 << 7
#define SPI_TX_MSB_FIRST									0
#define SPI_TX_LSB_FIRST									1

//SPI enable
#define SPI_EN										   (uint32_t) 1 << 6

//BAUD RATE
#define SPI_CR1_BR_PCLK_DIV_2							(uint32_t) 0 << 3
#define SPI_CR1_BR_PCLK_DIV_4							(uint32_t) 1 << 3
#define SPI_CR1_BR_PCLK_DIV_8							(uint32_t) 2 << 3
#define SPI_CR1_BR_PCLK_DIV_16							(uint32_t) 3 << 3
#define SPI_CR1_BR_PCLK_DIV_32							(uint32_t) 4 << 3
#define SPI_CR1_BR_PCLK_DIV_64							(uint32_t) 5 << 3
#define SPI_CR1_BR_PCLK_DIV_128							(uint32_t) 6 << 3
#define SPI_CR1_BR_PCLK_DIV_256							(uint32_t) 7 << 3

//Master selection
#define SPI_CR1_MSTR										(uint32_t) 1 << 2
#define SPI_SLAVE_MODE_SEL								0
#define SPI_MASTER_MODE_SEL								1

//CLOCK POLARITY
#define SPI_CR1_CPOL										(uint32_t) 1 << 1
#define SPI_CPOL_LOW										0
#define SPI_CPOL_HIGH									1

//CLOCK PHASE
#define SPI_CR1_CPHA									(uint32_t) 1 << 0
#define SPI_LEADING_CLK									0
#define SPI_TRAILING_CLK									1

#endif /* STM32F4XX_HAL_DRIVER_INC_HAL_SPI_DRIVER_H_ */
